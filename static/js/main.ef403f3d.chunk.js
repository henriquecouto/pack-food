(this["webpackJsonpmanager-frontend"]=this["webpackJsonpmanager-frontend"]||[]).push([[0],{138:function(e,n,t){e.exports=t.p+"static/media/BlockFood.62a8fc13.jpg"},181:function(e,n,t){e.exports=t.p+"static/media/thumbnail.a50c0547.jpeg"},276:function(e,n,t){e.exports=t.p+"static/media/oval.fd8a5e78.svg"},290:function(e,n,t){e.exports=t(588)},330:function(e,n){},338:function(e,n){},355:function(e,n){},357:function(e,n){},372:function(e,n){},461:function(e,n){},510:function(e,n){},512:function(e,n){},533:function(e,n){},536:function(e,n){},588:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),i=t(85),o=t.n(i),l=t(84),c=t(69),u=t(142),s=function(e,n){localStorage.setItem("authorization",e),localStorage.setItem("userLogged",n)},d=function(){return!!localStorage.getItem("authorization")},p=function(e){var n=e.component,t=e.restricted,a=Object(u.a)(e,["component","restricted"]);return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return d()&&t?r.a.createElement(c.a,{to:"/dashboard"}):r.a.createElement(n,e)}}))},m=function(e){e.component,Object(u.a)(e,["component"])},f=t(11),b=t.n(f),y=t(21),h=t(52),g=t(15),v=t(275),E=t(13),x=t(10);function w(){var e=Object(E.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 7px 15px;\n  text-decoration: none;\n  font-size: .9em;\n  margin-left: 10px;\n  display: flex;\n  align-items: center;\n\n  .icon {\n    margin-right: 5px;\n  }\n"]);return w=function(){return e},e}function _(){var e=Object(E.a)(["\n  background-color: black;\n  color: white;\n  padding: 1% 10%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 400;\n\n  div {\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return _=function(){return e},e}var k=x.b.header(_()),j=x.b.a(w(),(function(e){return e.white?"black":"#f8f8f9"}),(function(e){return e.white?"white":"black"}));function O(){var e=Object(E.a)(["\n  border-top: 2px solid red;\n  font-size: 10px;\n  color: red;\n"]);return O=function(){return e},e}function C(){var e=Object(E.a)(["\n  justify-content: center;\n  display: flex;\n  margin-top: 10px;\n"]);return C=function(){return e},e}function T(){var e=Object(E.a)(["\n  border: none;\n  padding: 10px 20px;\n  width: ",";\n  background-color: black;\n  color: white;\n  \n\n  &:hover {\n    background-color: #06C167;\n    transition-duration: 200ms;\n  }\n"]);return T=function(){return e},e}function S(){var e=Object(E.a)(["\n  border: none;\n  background-color: white;\n  padding: 5px 15px;\n  border: 2px transparent;\n\n  &:hover {\n    background-color: black;\n    color: white;\n    border: 2px solid #06C167;\n  }\n"]);return S=function(){return e},e}function q(){var e=Object(E.a)(["\n  width: 100%;\n  background-color: rgb(67, 164, 34);\n  color: white;\n  border: none;\n  padding: 3% 0;\n  font-weight: 400;\n  margin-top: 5px;\n\n  &:hover {\n    transition-duration: 400ms;\n    background-color: rgb(50, 130, 30)\n  }\n"]);return q=function(){return e},e}function A(){var e=Object(E.a)(["\n  width: 100%;\n  border: none;\n  background-color:  #f2eded;\n  @import url('https://fonts.googleapis.com/css?family=Lato&display=swap');\n  font-family: 'Lato', sans-serif;\n  font-weight: 500;\n  padding: 3% 4%;\n  border-bottom: 2px solid transparent;\n\n  &:focus {\n    border-bottom: 2px solid rgb(67, 164, 34);\n  }\n\n  &:not(:first-child){\n    margin-top: 3px;\n  }\n"]);return A=function(){return e},e}function N(){var e=Object(E.a)(["\n\n* {\n  margin: 0;\n  padding: 0;\n  outline: none;\n  box-sizing: border-box;\n}\n\n\nbody {\n  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n  background-color: #f8f8f9;\n}\n\nbutton {\n  cursor: pointer;\n}\n\na {\n  color: rgb(67, 164, 34);\n}\n\n"]);return N=function(){return e},e}var z=Object(x.a)(N()),F=x.b.input(A()),M=x.b.button(q()),P=x.b.button(S()),I=x.b.button(T(),(function(e){return e.size})),D=x.b.div(C()),B=x.b.p(O()),L=t(138),R=t.n(L);function V(){return r.a.createElement(k,null,r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:R.a,height:"76",width:"214"})),r.a.createElement("div",null," ",d()?r.a.createElement(P,{onClick:function(){localStorage.clear(),window.location.reload()}},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{white:!0,href:"/session"},r.a.createElement(v.a,{className:"icon",size:20})," Sign in"),r.a.createElement(j,{href:"/"},"Sign up"))))}var G=t(276),U=t.n(G);function H(){var e=Object(E.a)(["\n  position: fixed; \n  z-index: 5;\n  left: 0;\n  top: 0;\n  width: 100%; \n  height: 100%; \n  overflow: auto;\n  background-color: rgb(0,0,0); \n  background-color: rgba(0,0,0,0.4); \n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    background-color: white;\n    width: 160px;\n    height: 50px;\n    display: flex;\n    padding: 5px;\n    align-items: center;\n  }\n\n"]);return H=function(){return e},e}var J=x.b.div(H());function W(){return r.a.createElement(J,null,r.a.createElement("div",null,r.a.createElement("img",{src:U.a,alt:"loading animation"}),r.a.createElement("p",null,"Wait a moment")))}function Y(){var e=Object(E.a)(["\n  margin-bottom: 2%;\n  color: #c7c7c7;\n\n  label {\n    color: rgb(67, 164, 34);\n    font-weight: 400;\n  }\n\n  .feedback {\n    color: red;\n  }\n"]);return Y=function(){return e},e}function X(){var e=Object(E.a)(["\n  background-color: white;\n  color: black;\n  width: 700px;\n  font-weight: bold;\n  font-size: .9em;\n  padding: 5% 4%;\n\n  h2 {\n    padding-bottom: 25px;\n  }\n"]);return X=function(){return e},e}function $(){var e=Object(E.a)(["\n  padding: 13% 3%;\n  max-width: 550px;\n  h2 {\n    font-size: 3em;\n  }\n"]);return $=function(){return e},e}function K(){var e=Object(E.a)(['\n  max-width: 1300px;\n  margin: 0 auto;\n\n  .home-container {\n    background-image: url("https://du9bj9c2s4nh.cloudfront.net/wp-content/uploads/2020/10/Aloette-takeout-food-delivery.jpg");\n    min-height: 550px;\n    color: white;\n    padding: 0 10%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n  }\n']);return K=function(){return e},e}var Q=x.b.div(K()),Z=x.b.div($()),ee=x.b.div(X()),ne=x.b.div(Y()),te=t(277),ae=t.n(te).a.create({baseURL:"http://localhost:3333"}),re=g.c().shape({restaurant_name:g.d().required("Restaurant name is required"),restaurant_address:g.d().required("Restaurant address is required"),restaurant_city:g.d().required("Restaurant city is required"),name:g.d().required("Name is required"),email:g.d().email("Put a valid email").required("Email is required"),password:g.d().required("Password is required"),culinary:g.d().required("Cuisine is required"),digital_address:g.d().required("Digital address is required")});function ie(e){var n=e.history,t=[];function a(){return(a=Object(y.a)(b.a.mark((function e(a,r){var i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setSubmitting,o=r.setFieldError,e.prev=1,e.next=4,ae.post("/manager/signup",a);case 4:i(!1),n.push("/session"),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),o("email","email already used"),t.push(e.t0.data),i(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(Q,null,r.a.createElement("div",{className:"home-container"},r.a.createElement(Z,null,r.a.createElement("h2",null,"Get you independance today. Be the owner of your own business"),r.a.createElement("p",null,"Pack food is a plataform to connect clients, restaurants and drivers with no comission. Be part of revolution!")),r.a.createElement(ee,{className:"item-container  form-container"},r.a.createElement("h2",null,"Partner with us"),r.a.createElement(h.a,{initialValues:{restaurant_address:"",restaurant_city:"",restaurant_name:"",name:"",email:"",password:"",culinary:"",digital_address:""},validationSchema:re,onSubmit:function(e,n){return a.apply(this,arguments)},validate:function(e){var n={};return t.includes(e.email)&&(n.email="email is already in use"),n}},(function(e){var n=e.handleSubmit,t=e.handleChange,a=e.values,i=e.errors,o=e.touched,l=e.isSubmitting;return r.a.createElement("form",{onSubmit:n},r.a.createElement(ne,null,r.a.createElement(F,{type:"text",placeholder:"Restaurant Name",name:"restaurant_name",onChange:t,values:a.restaurant_name}),i.restaurant_name&&o.restaurant_name&&r.a.createElement(B,null,i.restaurant_name),r.a.createElement(F,{type:"text",name:"restaurant_address",placeholder:"Restaurant Address",onChange:t,values:a.restaurant_address}),i.restaurant_address&&o.restaurant_address&&r.a.createElement(B,null,i.restaurant_address),r.a.createElement(F,{type:"text",name:"restaurant_city",placeholder:"Restaurant City",onChange:t,values:a.restaurant_city}),i.restaurant_city&&o.restaurant_city&&r.a.createElement(B,null,i.restaurant_city)),r.a.createElement(ne,null,r.a.createElement(F,{type:"text",name:"name",placeholder:"Full Name",onChange:t,values:a.name}),i.name&&o.name&&r.a.createElement(B,null,i.name),r.a.createElement(F,{type:"email",name:"email",placeholder:"Email",onChange:t,values:a.email}),i.email&&o.email&&r.a.createElement(B,null,i.email),r.a.createElement(F,{type:"password",name:"password",placeholder:"Password",onChange:t,values:a.password}),i.password&&o.password&&r.a.createElement(B,null,i.password)),r.a.createElement(ne,null,r.a.createElement(F,{type:"text",name:"culinary",placeholder:"Type of cuisine",onChange:t,values:a.culinary}),i.culinary&&o.culinary&&r.a.createElement(B,null,i.culinary)),r.a.createElement(ne,null,r.a.createElement(F,{type:"text",name:"digital_address",placeholder:"Digital address",onChange:t,values:a.digital_address}),i.digital_address&&o.digital_address&&r.a.createElement(B,null,i.digital_address)),r.a.createElement(ne,null,r.a.createElement(F,{type:"text",name:"public_key",placeholder:"Public key",onChange:t,values:a.public_key}),i.public_key&&o.public_key&&r.a.createElement(B,null,i.public_key)),r.a.createElement(M,{type:"submit",disabled:l},"Submit"),l&&r.a.createElement(W,null))}))))))}function oe(){var e=Object(E.a)(["\n  background: #303030;\n  display: flex;\n  justify-content: space-between;\n  color: white;\n  padding: 2.5% 3%;\n  font-size: 12px;\n  margin: auto auto 0 auto;\n\n  a {\n    color: white;\n    text-decoration: none;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]);return oe=function(){return e},e}function le(){var e=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 7% 0;\n  min-height: 89vh;\n\n  img {\n    width: 200px;\n    margin: 0 auto;\n  }\n\n  .form-container {\n    h2 {\n      margin: 10% 0 3% 0;\n      font-weight: 400;\n    }\n  }\n"]);return le=function(){return e},e}var ce=x.b.div(le()),ue=x.b.footer(oe()),se=g.c().shape({email:g.d().email().required("Email is required"),password:g.d().required("Password is required")});function de(e){var n=e.history,t=!1;function a(){return(a=Object(y.a)(b.a.mark((function e(a,r){var i,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setSubmitting,o=r.setFieldError,e.prev=1,e.next=4,ae.post("/manager/sessions",a);case 4:l=e.sent,c=JSON.stringify(l.data.user),s(l.data.token,c),i(!1),n.push("/dashboard"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),o("password","Verify your credentials"),o("email","Verify your credentials"),t=!0,i(!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null,r.a.createElement("img",{src:R.a,alt:""}),r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,"Welcome back"),r.a.createElement(h.a,{initialValues:{email:"",password:""},validationSchema:se,onSubmit:function(e,n){return a.apply(this,arguments)},validate:function(){var e={};return t&&(e.password="Verify your credentials",t=!1),e}},(function(e){var n=e.handleSubmit,t=e.handleChange,a=e.values,i=e.errors,o=e.touched,l=e.isSubmitting;return r.a.createElement("form",{onSubmit:n},r.a.createElement(F,{name:"email",type:"email",placeholder:"Email",onChange:t,value:a.email}),i.email&&o.email&&r.a.createElement(B,null,i.email),r.a.createElement(F,{name:"password",type:"password",placeholder:"Password",onChange:t,value:a.password}),i.password&&o.password&&r.a.createElement(B,null,i.password),r.a.createElement(M,{type:"submit"},l?"Wait while login in":"Login"))})),r.a.createElement("a",{href:"/"},"Create an account"))),r.a.createElement(ue,null,r.a.createElement("span",null,"\xa9 2021 by ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/rodrigofolha"},"Rodrigo Folha")),r.a.createElement("span",null,"My sincere thanks to ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/joaovitorzv"},"Jo\xe3o vitor oliveira")," for template"),r.a.createElement("span",null,r.a.createElement("a",{href:"/session"},"this site was made for study purposes only."))))}function pe(){var e=Object(E.a)(["\n  \n\n  h2 {\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n    font-size: 1.2em;\n\n    svg {\n      margin-right: 10px;\n    }\n  }\n"]);return pe=function(){return e},e}function me(){var e=Object(E.a)(["\n  font-weight: bold;\n  text-decoration: none;\n\n  li {\n    color: #bfbfbf;\n    display: flex;\n    padding: 10px 20px;\n    border: none;\n    border-bottom: 3px solid white;\n\n    &:hover {\n      border: none;\n      border-bottom: 3px solid #06C167;\n      color: #06C167;\n      background-color: #F7F2F2;\n    }\n  }\n"]);return me=function(){return e},e}function fe(){var e=Object(E.a)(["\n  background-color: white;\n  padding: 0 3%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  ul {\n    display: flex;\n  }\n"]);return fe=function(){return e},e}var be=x.b.div(fe()),ye=Object(x.b)(l.b)(me()),he=x.b.div(pe()),ge=t(278);function ve(){var e=JSON.parse(localStorage.getItem("userLogged"));return r.a.createElement(be,null,r.a.createElement(he,null,r.a.createElement("h2",null,r.a.createElement(ge.a,null),e.restaurant_name)),r.a.createElement("ul",null,r.a.createElement(ye,{to:"/dashboard"},r.a.createElement("li",null,"Analitycs")),r.a.createElement(ye,{to:"/dashboard/orders"},r.a.createElement("li",null,"Orders")),r.a.createElement(ye,{to:"/dashboard/menu"},r.a.createElement("li",null,"Menu")),r.a.createElement(ye,{to:"/dashboard"},r.a.createElement("li",null,"Payments"))))}function Ee(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(ve,null),r.a.createElement("h2",null,"Analitycs"))}var xe=t(17);function we(){var e=Object(E.a)(["\n  max-width: auto;\n  max-height: 64px;\n  overflow: hidden;\n  width: auto;\n  height: auto;\n  border: 1px solid #dbdbdb;\n  margin: 10px 0;\n"]);return we=function(){return e},e}function _e(){var e=Object(E.a)(["\n  padding: 4px 20px;\n  background-color: ",";\n  color: white;\n"]);return _e=function(){return e},e}function ke(){var e=Object(E.a)(["\n  max-width: 1300px;\n  margin: 2% auto;\n  \n  .settings-container {\n\n    h2 {\n      color: rgb(67, 164, 34);\n    }\n  \n    .form-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .about-manager  {\n      display: flex;\n      background-color: white;\n      padding: 20px;\n      margin: .5% 0 3% 0;\n\n      p {\n        margin-left: 10px;\n        font-weight: bold;\n        color: #5e5e5e;\n      }\n\n      strong {\n        color: rgb(67, 164, 34);\n      }\n    }\n  }\n\n  .form-container {\n    background-color: white;\n    padding: 10px;\n    display: flex;\n    justify-content: space-evenly;\n    flex-direction: row;\n    margin-top: 20px;\n    \n    .input-group {\n      justify-content: center;\n      display: flex;\n      flex-direction: column;\n\n      &:not(:first-child) {\n          margin-top: 15px;\n      }\n\n      label {\n        color: #8f8f8f;\n        &:not(first-child) {\n          margin-top: 10px;\n        }\n      }\n\n      input {\n        width: 600px;\n        border: 2px solid transparent;\n        background-color: #faf5f5;\n        padding: 15px 20px;\n        font-size: .9em;\n\n        &:focus {\n          border-bottom: 2px solid black;\n        }\n      }\n\n      h3 {\n        font-weight: bold;\n        font-size: 16px;\n      }\n      \n      .file-input-group {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        label {\n          display: flex;\n          flex-direction: column;\n        }\n\n        input {\n          max-width: 295px;\n          padding: 10px;\n        }\n\n      }\n\n    }\n  }\n\n  .menu-items {\n    padding-top: 20px;\n    display: grid;\n    justify-items: center;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-template-rows: auto;\n    grid-gap: 20px;\n  }\n"]);return ke=function(){return e},e}var je=x.b.div(ke()),Oe=x.b.p(_e(),(function(e){return e.filled?"#06C167":"red"})),Ce=x.b.img(we()),Te=t(181),Se=t.n(Te);function qe(){var e=Object(E.a)(["\n  width: 48%;\n  border: none;\n  padding: 10px 0;\n  color: black;\n  border: 2px solid transparent;\n\n  &:hover {\n    color: white;\n    background-color: ",";\n  }\n"]);return qe=function(){return e},e}function Ae(){var e=Object(E.a)(["\n  display: flex;\n\n  img {\n    width: 40%;\n\n    &:hover {\n      opacity: .8;\n      cursor: pointer;\n      transition-duration: 300ms;\n    }\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    width: 60%;\n    padding: 0 2%;\n\n    label {\n      color: #757575;\n      \n      &:not(:first-child){\n      margin-top: 10px;\n      }\n    }\n\n    input {\n      font-size: 1em;\n      height: 40px;\n      padding: 0 10px;\n      border: none;\n      border-bottom: 2px solid transparent;\n      background-color: #f2eded;\n      \n      &:hover, &:focus {\n        border-bottom: 2px solid black;\n        transition-duration: 350ms;\n      }\n    }\n\n    .btn-group {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 10px;\n    }\n\n  }\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(E.a)(["\n  display: none; \n  position: fixed; \n  z-index: 5;\n  padding-top: 50px;\n  left: 0;\n  top: 0;\n  width: 100%; \n  height: 100%; \n  overflow: auto;\n  background-color: rgb(0,0,0); \n  background-color: rgba(0,0,0,0.4); \n\n  .modal-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    h3 {\n      font-weight: 400;\n    }\n  }\n\n  .modal-content {\n    background-color: #fefefe;\n    margin: auto;\n    padding: 20px;\n    border: 1px solid #888;\n    width: 50%;\n  }\n\n  .close {\n    color: #aaaa;\n    font-size: 28px;\n    font-weight: bold;\n\n    &:hover, &:focus {\n      color: #000;\n      cursor: pointer;\n    }\n  }\n"]);return Ne=function(){return e},e}function ze(){var e=Object(E.a)(["\n  background-color: white;\n  border: 1px solid #e3e3e3;\n  width: 390px;\n  height: 140px;\n  display: grid;\n  grid-template-columns: 2fr 1.4fr;\n\n  &:hover {\n    border-color: rgb(0, 0, 0);\n    transition-duration: 300ms;\n  }\n\n  .text-container {\n    padding: 4%;\n    text-align: start;\n    display: grid;\n    grid-auto-rows: 4fr 1fr;\n    \n  }\n\n  .text {\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-line-clamp: 4;\n    -webkit-box-orient: vertical;\n    @import url('https://fonts.googleapis.com/css?family=Fira+Sans&display=swap');\n    font-family: 'Fira sans', sans-serif;\n\n    h3 {\n      font-size: 1.3em;\n      font-weight: 400;\n      -webkit-line-clamp: 1;\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      margin-bottom: 5px;\n    }\n  }\n\n  .price {\n    font-size: 1.2em;\n  }\n\n  .thumbnail {\n    overflow: hidden;\n\n    img {\n      height: 100%;\n    }\n  }\n"]);return ze=function(){return e},e}var Fe=x.b.button(ze()),Me=x.b.div(Ne()),Pe=x.b.div(Ae()),Ie=x.b.button(qe(),(function(e){return e.warning?"#db1a3a":"#06C167"}));function De(e){function n(n){document.getElementById(e.id).style.display=n,"block"===n&&(v(e.id),console.log(g))}var t=Object(a.useState)(e.title),i=Object(xe.a)(t,2),o=i[0],l=i[1],c=Object(a.useState)(e.description),u=Object(xe.a)(c,2),s=u[0],d=u[1],p=Object(a.useState)(e.price),m=Object(xe.a)(p,2),f=m[0],b=m[1],y=Object(a.useState)(e.id),h=Object(xe.a)(y,2),g=h[0],v=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe,{onClick:function(){return n("block")}},r.a.createElement("div",{className:"text-container"},r.a.createElement("div",{className:"text"},r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.description)),r.a.createElement("div",{className:"price"},r.a.createElement("span",null,"$15"))),r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:Se.a,alt:""}))),r.a.createElement(Me,{id:e.id},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"Edit item"),r.a.createElement("span",{className:"close",onClick:function(){return n("none")}},"\xd7")),r.a.createElement(Pe,null,r.a.createElement("img",{src:Se.a,alt:""}),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{value:o,type:"text",name:"title",onChange:function(e){return l(e.target.value)}}),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{value:s,type:"text",name:"description",onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{value:f,type:"text",name:"price",onChange:function(e){return b(e.target.value)}}),r.a.createElement("div",{className:"btn-group"},r.a.createElement(Ie,{type:"submit",warning:!0,onClick:function(){return window.confirm("Are you sure, want delete this item?")}}," Delete item"),r.a.createElement(Ie,{inputColor:"#06C167",type:"submit"}," Update")))))))}function Be(){var e=Object(E.a)(['\n  background-color: white;\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n  padding: 2% 10%;\n\n  label {\n    margin-top: 10px;\n  }\n\n  input { \n    border: 2px solid transparent;\n    background-color: #faf5f5;\n    padding: 15px 20px;\n    font-size: .9em;\n\n    &:focus {\n      border-bottom: 2px solid black;\n    }\n  }\n\n  .file-input {\n    input[type="file"] {\n      background-color: transparent;\n    }\n  }\n']);return Be=function(){return e},e}var Le=x.b.form(Be()),Re=g.c().shape({item_title:g.d().required("Item name is required"),item_description:g.d().required("Item description is required"),item_price:g.b().required("Item price is required"),item_thumbnail:g.a().required("Item picture is required")});function Ve(){function e(){return(e=Object(y.a)(b.a.mark((function e(n,t){var a,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setSubmitting,r=t.setFieldError,e.prev=1,(i=new FormData).append("title",n.item_title),i.append("description",n.item_description),i.append("price",n.item_price),i.append("thumbnail",n.item_thumbnail),e.next=9,ae.post("/manager/create-item",i,{headers:{authorization:localStorage.getItem("authorization"),"Content-Type":"multipart/form-data; boundary=".concat(i._boundary)}});case 9:e.sent,a(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),r("item_thumbnail","Fill out your restaurant settings before create items"),a(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}return r.a.createElement(h.a,{initialValues:{item_title:"",item_description:"",item_price:"",item_thumbnail:""},validationSchema:Re,onSubmit:function(n,t){return e.apply(this,arguments)}},(function(e){var n=e.values,t=e.isSubmitting,a=e.handleChange,i=e.handleSubmit,o=e.setFieldValue,l=e.touched,c=e.errors;return r.a.createElement(Le,{onSubmit:i,encType:"multipart/form-data"},r.a.createElement("h3",null,"Add new item"),r.a.createElement("label",{htmlFor:"title"},"Item name"),r.a.createElement("input",{name:"item_title",type:"text",placeholder:"ex: Peperoni Pizza 30CM",value:n.item_title,onChange:a}),c.item_title&&l.item_title&&r.a.createElement(B,null,c.item_title),r.a.createElement("label",{htmlFor:"item_description"},"Item description"),r.a.createElement("input",{name:"item_description",type:"text",placeholder:"ex: 6 Slices of pizza, with Peperoni, cheese, tomato and the best flavor",value:n.item_description,onChange:a}),c.item_description&&l.item_description&&r.a.createElement(B,null,c.item_description),r.a.createElement("label",{htmlFor:"item_price"},"Item price"),r.a.createElement("input",{name:"item_price",type:"text",placeholder:"ex: 7.98",value:n.item_price,onChange:a}),c.item_price&&l.item_price&&r.a.createElement(B,null,c.item_price),r.a.createElement("label",{className:"file-input",id:"display-name"},"Upload a beatiful picture",r.a.createElement("input",{name:"item_thumbnail",id:"file-upload",type:"file",onChange:function(e){o("item_thumbnail",e.currentTarget.files[0])}}),c.item_thumbnail&&l.item_thumbnail&&r.a.createElement(B,null,c.item_thumbnail)),r.a.createElement(D,null,r.a.createElement(I,{type:"submit",size:"100%",disabled:t},t?"Saving changes":"Submit")))}))}var Ge=g.c().shape({restaurant_city:g.d().required("City is required"),restaurant_name:g.d().required("Name is required"),restaurant_address:g.d().required("Address is required"),culinary:g.d().required("Culinary is required")});function Ue(e){function n(){return(n=Object(y.a)(b.a.mark((function e(n,t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setSubmitting,e.prev=1,console.log(n),e.next=5,ae.put("/manager/update-restaurant",n,{headers:{authorization:localStorage.getItem("authorization")}});case 5:r=e.sent,console.log(r.data),a(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),a(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(h.a,{validationSchema:Ge,initialValues:{restaurant_city:e.response.restaurant_city||"",restaurant_name:e.response.restaurant_name||"",restaurant_address:e.response.restaurant_address||"",culinary:e.response.culinary||""},enableReinitialize:!0,onSubmit:function(e,t){return n.apply(this,arguments)}},(function(e){var n=e.handleSubmit,t=e.handleChange,a=e.values,i=e.touched,o=e.isSubmitting,l=e.errors;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",{className:"input-group"},r.a.createElement("h3",null,"Basic informations"),r.a.createElement("label",{htmlFor:"restaurant_city"},"City"),r.a.createElement("input",{name:"restaurant_city",type:"text",value:a.restaurant_city,onChange:t}),l.restaurant_city&&i.restaurant_city&&r.a.createElement(B,null,l.restaurant_city),r.a.createElement("label",{htmlFor:"restaurant_name"},"Name"),r.a.createElement("input",{name:"restaurant_name",type:"text",value:a.restaurant_name,onChange:t}),l.restaurant_name&&i.restaurant_name&&r.a.createElement(B,null,l.restaurant_name),r.a.createElement("label",{htmlFor:"restaurant_address"},"Address"),r.a.createElement("input",{name:"restaurant_address",type:"text",value:a.restaurant_address,onChange:t}),l.restaurant_address&&i.restaurant_address&&r.a.createElement(B,null,l.restaurant_address),r.a.createElement("label",{htmlFor:"culinary"},"Culinary"),r.a.createElement("input",{name:"culinary",type:"text",value:a.culinary,onChange:t})),l.culinary&&i.culinary&&r.a.createElement(B,null,l.culinary),r.a.createElement(D,null,r.a.createElement(I,{size:"100%",type:"submit",disabled:o},o?"Saving changes":"Submit")))}))}var He=g.c().shape({description:g.d().required("Description is required"),delivery_price:g.b().required("Delivery price is required"),logo:g.a().required("Logo is required"),banner:g.a().required("Banner is required")}),Je=g.c().shape({description:g.d(),delivery_price:g.b()});function We(){var e=Object(a.useState)(""),n=Object(xe.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(""),l=Object(xe.a)(o,2),c=l[0],u=l[1],s=Object(a.useState)(""),d=Object(xe.a)(s,2),p=d[0],m=d[1],f=Object(a.useState)(""),g=Object(xe.a)(f,2),v=g[0],E=g[1];function x(){return(x=Object(y.a)(b.a.mark((function e(n,a){var r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.setSubmitting,e.prev=1,(i=new FormData).append("description",n.description),i.append("delivery_price",n.delivery_price),i.append("logo",n.logo),i.append("banner",n.banner),!t.active){e.next=12;break}return e.next=10,ae.put("/manager/update-menu",i,{headers:{authorization:localStorage.getItem("authorization"),"Content-Type":"multipart/form-data; boundary=".concat(i._boundary)}});case 10:e.next=14;break;case 12:return e.next=14,ae.post("/manager/create-menu",i,{headers:{authorization:localStorage.getItem("authorization"),"Content-Type":"multipart/form-data; boundary=".concat(i._boundary)}});case 14:r(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),alert("Something went wrong, try again later"),r(!1);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(y.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("authorization"),e.next=3,ae.get("/manager/restaurant",{headers:{authorization:n}});case 3:(t=e.sent).data.restaurant?(i(t.data.restaurant),u(t.data),m("http://localhost:3333/files/".concat(t.data.logo_path)),E("http://localhost:3333/files/".concat(t.data.banner_path))):i(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(ve,null),r.a.createElement(je,null,r.a.createElement("div",{className:"settings-container"},r.a.createElement("h4",null,"About manager"),r.a.createElement("div",{className:"about-manager"},r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),t.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),t.email)),r.a.createElement("div",{className:"form-header"},r.a.createElement("h2",null,"Update your restaurant Informations "),r.a.createElement(Oe,{filled:t.active},t.active?"You're all set to start selling":"Please fill out all fields to start selling")),r.a.createElement("div",{className:"form-container"},r.a.createElement(Ue,{response:t}),r.a.createElement(h.a,{validationSchema:t.active?Je:He,initialValues:{description:c.description||"",delivery_price:c.delivery_price||""},onSubmit:function(e,n){return x.apply(this,arguments)},enableReinitialize:!0},(function(e){var n=e.handleSubmit,t=e.handleChange,a=e.values,i=e.setFieldValue,o=e.touched,l=e.isSubmitting,c=e.errors;return r.a.createElement("form",{onSubmit:n,encType:"multipart/form-data"},r.a.createElement("div",{className:"input-group"},r.a.createElement("h3",null,"Appearance"),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{name:"description",type:"text",value:a.description,onChange:t,placeholder:"ex: The best restaurant of the city"}),c.description&&o.description&&r.a.createElement(B,null,c.description),r.a.createElement("label",{htmlFor:"delivery_price"},"Delivery price"),r.a.createElement("input",{name:"delivery_price",type:"number",onChange:t,value:a.delivery_price,placeholder:"ex: 7.89"}),c.delivery_price&&o.delivery_price&&r.a.createElement(B,null,c.delivery_price),r.a.createElement("div",{className:"file-input-group"},r.a.createElement("label",null,"Upload your logo",r.a.createElement("div",{className:"preview-container"},r.a.createElement(Ce,{src:p})),r.a.createElement("input",{name:"logo",type:"file",onChange:function(e){i("logo",e.currentTarget.files[0])}}),c.logo&&o.logo&&r.a.createElement(B,null,c.logo)),r.a.createElement("label",null,"Upload your banner",r.a.createElement("div",{className:"preview-container"},r.a.createElement(Ce,{src:v})),r.a.createElement("input",{name:"banner",type:"file",onChange:function(e){i("banner",e.currentTarget.files[0])}}),c.banner&&o.banner&&r.a.createElement(B,null,c.banner)))),r.a.createElement(D,null,r.a.createElement(I,{size:"100%",type:"submit",disabled:l},l?"Saving changes":"Submit")))})))),r.a.createElement(Ve,null),r.a.createElement("div",{className:"menu-items"},r.a.createElement(De,{id:"1",title:"Combo Mega stacker - 2.0",description:"Free refil, Batata Media, Mega Stacker Duplo",price:"27"}),r.a.createElement(De,{id:"2",title:"Big Tasty",description:"Pinto haha xisde",price:"12"}),r.a.createElement(De,{id:"3",title:"Canastra burges",description:"Muito querijo com presunt",price:"12"}),r.a.createElement(De,{id:"4",title:"Puta do bairro",description:"Varias puta mec mec",price:"12"}),r.a.createElement(De,{id:"5",title:"Senhor alberto X",description:"X tudao do senhor alberoto",price:"12"}),r.a.createElement(De,{id:"6",title:"Carl\xe3o de 4",description:"Completao do carlao com queijo parmesa",price:"12"}))))}var Ye=t(182),Xe=t.n(Ye);function $e(){var e=Object(E.a)(["\n  border: none;\n  padding: 10px 25px;\n  color: black;\n\n  &:hover {\n    background-color: ",";\n    color: white;\n  }\n\n"]);return $e=function(){return e},e}function Ke(){var e=Object(E.a)(["\n  margin: 10px;\n  max-width: 270px;\n  background-color: #fafafa;\n  border: 1px solid #e6e6e6;\n  \n  .order-info {\n    padding: 10px;\n\n    h3 {\n     span {\n       color: #06C167;\n     }\n  \n   }\n  }\n\n  .status-info {\n    padding: 10px;\n    margin-top: 10px;\n    background-color: #292828;\n    color: white;\n\n    p {\n      margin-top: 5px;\n      span {\n        font-weight: bold;\n      }\n    }\n  }\n\n  .customer-info {\n    padding: 10px;\n    margin-top: 10px;\n    background-color: #292828;\n    color: white;\n\n    p {\n      margin-top: 5px;\n      span {\n        font-weight: bold;\n      }\n    }\n  }\n\n  .accept-btn {\n    padding: 10px;\n    display: flex;\n    justify-content: space-evenly;\n  }\n"]);return Ke=function(){return e},e}var Qe=x.b.div(Ke()),Ze=x.b.button($e(),(function(e){return e.warning?"#db1a3a":e.attention?"#999900":"#06C167"})),en=t(603);function nn(e){return r.a.createElement("div",{className:"order-info"},r.a.createElement("h3",null,r.a.createElement("span",null,e.quantity,"x "),e.itemName))}function tn(e){var n,t,i,o=e.web3,l=e.chain,c=e.interact,u=e.orderBlock,s=(e.total,Object(a.useState)(!1)),d=Object(xe.a)(s,2),p=d[0],m=d[1],f=Object(a.useState)(null),h=Object(xe.a)(f,2),g=h[0],v=h[1],E=Object(a.useState)(null),x=Object(xe.a)(E,2),w=x[0],_=x[1],k=Object(a.useState)(!1),j=Object(xe.a)(k,2),O=j[0],C=j[1],T=Object(a.useState)([]),S=Object(xe.a)(T,2),q=S[0],A=S[1];"ORDERED"===u[3]?(n=r.a.createElement(Ze,{onClick:function(){return I(u[0])}},"Accept"),t=null,i=r.a.createElement(Ze,{warning:!0,onClick:function(){return z(u[0])}},"Refuse")):"PREPARATION"===u[3]?(n=null,t=null,i=r.a.createElement(Ze,{warning:!0,onClick:function(){return z(u[0])}},"Cancel")):"WAITING"===u[3]?(i=r.a.createElement("input",{maxLength:"5",type:"text",onChange:function(e){v(parseInt(e.target.value))}}),n=r.a.createElement(Ze,{onClick:function(){return P(u[0])}},"Dispatch order"),t=r.a.createElement(Ze,{attention:!0,onClick:function(){return F(u[0])}},"Call other deliveryman")):"DISPATCHED"===u[3]?(n=r.a.createElement("input",{maxLength:"5",type:"text",onChange:function(e){_("true"===e.target.value.toLowerCase())}}),t=r.a.createElement(Ze,{attention:!0,onClick:function(){return M(u[0])}},"Contest order"),i=r.a.createElement(Ze,{warning:!0,onClick:function(){return z(u[0])}},"Cancel")):(u[3],n=null,t=null,i=null);var N=function(){var e=Object(y.a)(b.a.mark((function e(){var n,t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=e.sent,e.next=5,r=n[0],i=u[1],window.ethereum.request({method:"eth_decrypt",params:[i,r]});case 5:t=e.sent,(a=JSON.parse(t)).map((function(e){console.log(e)})),A(a),C(!0);case 10:case"end":return e.stop()}var r,i}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(b.a.mark((function e(n){var t,a,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=21;break}return m(!0),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,e.next=7,o.eth.getGasPrice();case 7:return a=e.sent,console.log(a),e.next=11,l.methods.findAddress(n).call({from:t[0]});case 11:return r=e.sent,console.log(r),e.next=15,c.methods.cancelOrder(r).send({from:t[0],gasPrice:a,gas:4e6});case 15:i=e.sent,console.log(i),m(!1),window.location.reload(),e.next=22;break;case 21:console.log("Connect to MetaMask!");case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=Object(y.a)(b.a.mark((function e(n){var t,a,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=21;break}return m(!0),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,e.next=7,o.eth.getGasPrice();case 7:return a=e.sent,console.log(a),e.next=11,l.methods.findAddress(n).call({from:t[0]});case 11:return r=e.sent,console.log(r),e.next=15,c.methods.callSecondDeliveryman(r).send({from:t[0],gasPrice:a,gas:4e6,value:parseInt(u[2])});case 15:i=e.sent,console.log(i),m(!1),window.location.reload(),e.next=22;break;case 21:console.log("Connect to MetaMask!");case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(b.a.mark((function e(n){var t,a,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=21;break}return m(!0),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,e.next=7,o.eth.getGasPrice();case 7:return a=e.sent,console.log(a),e.next=11,l.methods.findAddress(n).call({from:t[0]});case 11:return r=e.sent,console.log(r),e.next=15,c.methods.contestOrder(r,w).send({from:t[0],gasPrice:a,gas:4e6});case 15:i=e.sent,console.log(i),m(!1),window.location.reload(),e.next=22;break;case 21:console.log("Connect to MetaMask!");case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=Object(y.a)(b.a.mark((function e(n){var t,a,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=21;break}return m(!0),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,e.next=7,o.eth.getGasPrice();case 7:return a=e.sent,console.log(a),e.next=11,l.methods.findAddress(n).call({from:t[0]});case 11:return r=e.sent,console.log(r),e.next=15,c.methods.pickupOrder(r,g).send({from:t[0],gasPrice:a,gas:4e6});case 15:i=e.sent,console.log(i),m(!1),window.location.reload(),e.next=22;break;case 21:console.log("Connect to MetaMask!");case 22:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=Object(y.a)(b.a.mark((function e(n){var t,a,r,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=23;break}return m(!0),e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,e.next=7,o.eth.getGasPrice();case 7:return a=e.sent,console.log(a),e.next=11,l.methods.findAddress(n).call({from:t[0]});case 11:return r=e.sent,console.log(r),i=q.reduce((function(e,n){return e+n.quantity*n.price}),parseInt(u[2])),console.log(i),e.next=17,c.methods.prepareOrder(r).send({from:t[0],gasPrice:a,gas:4e6,value:parseInt(i)});case 17:s=e.sent,console.log(s),m(!1),window.location.reload(),e.next=24;break;case 23:console.log("Connect to MetaMask!");case 24:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(Qe,null,O?r.a.createElement("div",{className:"order-info"},q.map((function(e,n){return r.a.createElement(nn,{key:n,quantity:e.quantity,itemName:e.name})}))):r.a.createElement("button",{onClick:N},"More details"),r.a.createElement("div",{className:"customer-info"},r.a.createElement("div",{className:"status-info"},r.a.createElement("p",null,r.a.createElement("span",null,"Status of order: "),u[3])),r.a.createElement("p",null,r.a.createElement("span",null,"Total: "),q.reduce((function(e,n){return e+n.quantity*n.price}),0)),r.a.createElement("p",null,r.a.createElement("span",null,"Delivery fee: "),parseInt(u[2])),r.a.createElement("p",null,r.a.createElement("span",null,"Created at: "),r.a.createElement(Xe.a,{unix:!0},u[6])),r.a.createElement("p",null,r.a.createElement("span",null,"Last updated at: "),r.a.createElement(Xe.a,{unix:!0},u[7]))),p?r.a.createElement(en.a,null):r.a.createElement("div",{className:"accept-btn"},i,t,n))}function an(){var e=Object(E.a)(["\n  max-width: 1300px;\n  margin: 2% auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n\n  background-color: white;\n  .order-container {\n   display: grid;\n   grid-template-columns: 1fr 1fr 1fr 1fr;\n   grid-template-rows: auto;\n  }\n"]);return an=function(){return e},e}function rn(){var e=Object(E.a)(["\n  max-width: 1300px;\n  margin: 2% auto;\n"]);return rn=function(){return e},e}var on=x.b.div(rn()),ln=x.b.div(an()),cn=t(116),un=t.n(cn),sn="0x8A47416ac51F30EE5121287626aeacba5D57417F",dn=[{inputs:[{internalType:"address",name:"_restaurant",type:"address"},{internalType:"uint256",name:"_deliveryPrice",type:"uint256"},{internalType:"uint256",name:"_total",type:"uint256"},{internalType:"string",name:"_items",type:"string"},{internalType:"string",name:"_items_client",type:"string"}],name:"makeOrder",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"orderAddress",type:"uint256"}],name:"findAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],pn=[{inputs:[{internalType:"address",name:"orderAddress",type:"address"}],name:"getOrder",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"chainAddress",type:"address"}],name:"relatedTo",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"items",type:"string"},{internalType:"uint256",name:"deliveryPrice",type:"uint256"},{internalType:"string",name:"step",type:"string"},{internalType:"address",name:"restaurant",type:"address"},{internalType:"uint256",name:"code",type:"uint256"},{internalType:"uint256",name:"timestamp_creation",type:"uint256"},{internalType:"uint256",name:"timestamp_last_step",type:"uint256"},{internalType:"address",name:"deliveryman",type:"address"}],internalType:"struct Type[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"chainAddress",type:"address"}],name:"toBeTaken",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"string",name:"",type:"string"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],mn=[{inputs:[{internalType:"address",name:"orderAddress",type:"address"}],name:"callSecondDeliveryman",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"}],name:"cancelOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"storage_address",type:"address"},{internalType:"bytes32",name:"firstHalf",type:"bytes32"},{internalType:"bytes32",name:"secondHalf",type:"bytes32"}],name:"confirmIntention",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"},{internalType:"bool",name:"aval",type:"bool"}],name:"contestOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"},{internalType:"uint256",name:"code",type:"uint256"}],name:"deliveryOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"},{internalType:"uint256",name:"code",type:"uint256"}],name:"pickupOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"}],name:"prepareOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"orderAddress",type:"address"}],name:"withdraw",outputs:[],stateMutability:"payable",type:"function"}],fn=[{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"bytes32",name:"_firstHalf",type:"bytes32"},{internalType:"bytes32",name:"_secondHalf",type:"bytes32"}],name:"addDeliveryman",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"string",name:"encrypted_address",type:"string"},{internalType:"string",name:"encrypted_items",type:"string"}],name:"addInformation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getDeliveryman",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"readInformation",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],bn=t(605);function yn(){var e=Object(a.useState)([]),n=Object(xe.a)(e,2),t=(n[0],n[1],Object(a.useState)(null)),i=Object(xe.a)(t,2),o=i[0],l=i[1],c=Object(a.useState)(null),u=Object(xe.a)(c,2),s=u[0],d=u[1],p=Object(a.useState)([]),m=Object(xe.a)(p,2),f=m[0],h=m[1],g=Object(a.useState)(!1),v=Object(xe.a)(g,2),E=v[0],x=v[1],w=function(){var e=Object(a.useState)(null),n=Object(xe.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(null),o=Object(xe.a)(i,2),l=o[0],c=o[1],u=Object(a.useState)(null),s=Object(xe.a)(u,2),d=s[0],p=s[1],m=Object(a.useState)(null),f=Object(xe.a)(m,2),b=f[0],y=f[1],h=Object(a.useState)(null),g=Object(xe.a)(h,2),v=g[0],E=g[1];return Object(a.useEffect)((function(){var e;if(window.ethereum)try{e=new un.a(window.ethereum)}catch(l){console.log(l)}else if(window.web3)e=new un.a(window.web3);else{console.log("using the local network");var n=new un.a.provider.HttpProvider("http://127.0.0.1:7545");e=new un.a(n)}var t=new e.eth.Contract(dn,sn,{gas:4e6,gasPrice:1e6});c(t);var a=new e.eth.Contract(pn,"0xc516Dd6d2c11E00EB4fc91E56Ef73Ba0951b06d2",{gas:4e6,gasPrice:1e6});p(a);var i=new e.eth.Contract(mn,"0x4a128557750c6ec155aB84c9A594eD2ac04c4C6f",{gas:4e6,gasPrice:1e6});y(i);var o=new e.eth.Contract(fn,"0xdfbB0CbF1ABa32B40E36ebfB9A6aD50A170b3939",{gas:4e6,gasPrice:1e6});E(o),r(e)}),[]),{web3:t,chain:l,view:d,interact:b,storage:v}}(),_=w.web3,k=w.interact,j=w.chain,O=w.view,C=function(){var e=Object(y.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=4;break}return e.next=3,window.ethereum.enable();case 3:_.eth.getAccounts().then((function(e){console.log(e[0]),l(e[0]),T(e[0])}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.eth.getBalance(n).then((function(e){var n=_.utils.fromWei(e,"ether");d(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(y.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=14;break}if(x(!0),!window.ethereum){e.next=12;break}return e.next=5,window.ethereum.request({method:"eth_requestAccounts"});case 5:return n=e.sent,e.next=8,O.methods.relatedTo(sn).call({from:n[0]});case 8:t=e.sent,h(t),e.next=13;break;case 12:console.log("Connect to metamask!");case 13:x(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(ve,null),r.a.createElement(on,null,r.a.createElement("h2",null,"Account"),r.a.createElement(bn.a,{variant:"outlined",color:"primary",onClick:function(){return C()}},"Connect to MetaMask"),o?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your address: ",o),r.a.createElement("p",null,"Your balance: ",s)):null,r.a.createElement("h2",null,"Orders")),r.a.createElement(ln,null,E?r.a.createElement(en.a,null):r.a.createElement("div",{className:"order-container"},f.filter((function(e){return 0!=e[0]})).map((function(e){return r.a.createElement(tn,{key:e[0],account:o,chain:j,interact:k,orderBlock:e,web3:_,total:parseInt(e[2])})})))))}function hn(){return r.a.createElement(l.a,null,r.a.createElement(c.d,null,r.a.createElement(p,{restricted:!0,path:"/",exact:!0,component:ie}),r.a.createElement(p,{restricted:!0,path:"/session",component:de}),r.a.createElement(m,{path:"/dashboard",exact:!0,component:Ee}),r.a.createElement(m,{path:"/dashboard/menu",component:We}),r.a.createElement(m,{path:"/dashboard/orders",component:yn})))}var gn=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null),r.a.createElement(hn,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(gn,null)),document.getElementById("root"))}},[[290,1,2]]]);
//# sourceMappingURL=main.ef403f3d.chunk.js.map